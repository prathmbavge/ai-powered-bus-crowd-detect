# Python Service Configuration
# Copy this file to .env and adjust values as needed

# ============================================
# Detection Parameters
# ============================================

# Confidence threshold for person detection (0.0-1.0)
# Higher = fewer false positives, may miss some detections
# Lower = more detections, may include false positives
# Default: 0.6 (recommended for balanced accuracy)
CONFIDENCE_THRESHOLD=0.6

# IOU threshold for Non-Maximum Suppression (0.0-1.0)
# Controls duplicate detection elimination
# Lower = more aggressive duplicate removal
# Default: 0.45 (recommended)
IOU_THRESHOLD=0.45

# Minimum bounding box area in pixels
# Filters out small/partial detections
# Higher = only count larger, more confident detections
# Default: 400 (recommended)
MIN_BBOX_AREA=400

# Target size for frame preprocessing (pixels)
# Frames larger than this will be resized
# Default: 640 (standard YOLO size)
TARGET_SIZE=640

# ============================================
# Crowd Level Thresholds
# ============================================

# Low crowd level: fewer than this many people
# Default: 15 (adjust based on bus capacity)
CROWD_THRESHOLD_LOW=15

# Medium crowd level: fewer than this many people
# Default: 30 (adjust based on bus capacity)
CROWD_THRESHOLD_MEDIUM=30

# High crowd level: fewer than this many people
# Default: 45 (adjust based on bus capacity)
# Critical: equal to or more than HIGH threshold
CROWD_THRESHOLD_HIGH=45

# ============================================
# Server Settings
# ============================================

# Port for Python service
PORT=5000

# Host address
HOST=0.0.0.0

# Debug mode (True/False)
DEBUG=False

# Path to YOLOv8 model file
MODEL_PATH=yolov8n.pt

# ============================================
# Tuning Guidelines
# ============================================

# Too few detections?
# - Decrease CONFIDENCE_THRESHOLD (try 0.55)
# - Decrease MIN_BBOX_AREA (try 300)

# Too many false positives?
# - Increase CONFIDENCE_THRESHOLD (try 0.65)
# - Increase MIN_BBOX_AREA (try 500)
# - Decrease IOU_THRESHOLD (try 0.40)

# For different bus types:
# - Small buses: CROWD_THRESHOLD_HIGH=30
# - Large buses: CROWD_THRESHOLD_HIGH=60
